# Auto-Update Project Status Script
# –ó–∞–ø—É—Å–∫: ./update-status.ps1

$ErrorActionPreference = "Stop"

Write-Host "üîÑ –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –ø—Ä–æ—î–∫—Ç—É Yana.Diia.AI..." -ForegroundColor Cyan

# Get current date/time
$timestamp = Get-Date -Format "yyyy-MM-dd HH:mm"
$demoDate = Get-Date "2025-11-29"
$today = Get-Date
$daysLeft = ($demoDate - $today).Days

# Count files
$appFiles = (Get-ChildItem -Path "app" -Recurse -File -Filter "*.tsx").Count
$componentFiles = (Get-ChildItem -Path "components" -Recurse -File -Filter "*.tsx").Count
$libFiles = (Get-ChildItem -Path "lib" -Recurse -File -Filter "*.ts").Count
$configFiles = (Get-ChildItem -Path "config" -Recurse -File -Filter "*.ts").Count
$totalFiles = $appFiles + $componentFiles + $libFiles + $configFiles

# Count lines of code
$tsxFiles = Get-ChildItem -Path . -Recurse -Include *.tsx,*.ts -Exclude node_modules
$totalLines = ($tsxFiles | Get-Content | Measure-Object -Line).Lines

# Check npm dependencies
Write-Host "üì¶ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ npm..." -ForegroundColor Yellow
$npmStatus = "‚ùå –ù–µ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ"
try {
    $npmCheck = npm list 2>&1 | Out-String
    if ($npmCheck -match "found 0 vulnerabilities") {
        $npmStatus = "‚úÖ 0 vulnerabilities"
    }
} catch {
    $npmStatus = "‚ö†Ô∏è npm –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π"
}

# Check if dev server can start
Write-Host "üöÄ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ dev server..." -ForegroundColor Yellow
$devServerStatus = "‚è≥ –ù–µ —Ç–µ—Å—Ç–æ–≤–∞–Ω–æ"

# Generate status report
$statusContent = @"
# üéØ Yana.Diia.AI - Auto-Updated Status

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: $timestamp  
**–î–Ω—ñ–≤ –¥–æ Demo Day**: **$daysLeft –¥–Ω—ñ–≤** üî•  
**–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–æ**: update-status.ps1

---

## üìä Code Metrics

| Metric | Value |
|--------|-------|
| **App Files (.tsx)** | $appFiles |
| **Components (.tsx)** | $componentFiles |
| **Lib Files (.ts)** | $libFiles |
| **Config Files (.ts)** | $configFiles |
| **Total TypeScript Files** | $totalFiles |
| **Total Lines of Code** | $totalLines |

---

## üîß Build Status

| Check | Status |
|-------|--------|
| NPM Dependencies | $npmStatus |
| Dev Server | $devServerStatus |
| TypeScript Compile | ‚è≥ Checking... |
| Production Build | ‚è≥ Not tested |

---

## ‚úÖ Features Checklist

- [x] Landing Page
- [x] Dashboard
- [x] Platform Navigation
- [x] Lego Constructor
- [x] AI Debate Chamber ‚≠ê
- [x] BRD Pipeline
- [x] Evaluation Lab
- [x] Quantum Optimizer
- [x] Blockchain Audit
- [x] Dev Panel
- [x] Mock LLM Provider

**–ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å**: 11/11 (100%)

---

## üé¨ Demo Day Countdown

**$daysLeft –¥–Ω—ñ–≤ –¥–æ –ø–µ—Ä–µ–º–æ–≥–∏!**

### Priority Tasks:
- [ ] Fix PowerShell execution policy
- [ ] Test dev server
- [ ] Record backup video
- [ ] Rehearse presentation (3x)
- [ ] Prepare Google Slides
- [ ] Test on Demo Day laptop

---

## üìà Progress Timeline

### Done ‚úÖ
- Day 1: Project Setup + Mock Mode
- Day 2: Lego Constructor
- Day 3: AI Debate Chamber
- Day 4: BRD Parser + Flow Generator
- Day 5: LLM Evaluator
- Day 6: Quantum Optimizer
- Day 7: Glagolitic Crypto

### Testing Phase ‚è≥
- [ ] Local dev server
- [ ] All routes accessible
- [ ] Konami Code works
- [ ] Animations smooth
- [ ] No console errors

### Final Prep üöÄ
- [ ] Video recording
- [ ] Slide deck
- [ ] Rehearsal
- [ ] Deployment (optional)

---

**Generated by**: update-status.ps1  
**Next update**: Run ``./update-status.ps1`` again  
**Manual status**: See PROJECT_STATUS.md
"@

# Write to file
$statusContent | Out-File -FilePath "AUTO_STATUS.md" -Encoding UTF8

Write-Host "‚úÖ –°—Ç–∞—Ç—É—Å –æ–Ω–æ–≤–ª–µ–Ω–æ!" -ForegroundColor Green
Write-Host "üìÑ –§–∞–π–ª: AUTO_STATUS.md" -ForegroundColor Cyan
Write-Host "üìä Files: $totalFiles | Lines: $totalLines" -ForegroundColor White
Write-Host "‚è∞ Days to Demo: $daysLeft" -ForegroundColor Yellow

# Optional: Open the file
Write-Host ""
Write-Host "–í—ñ–¥–∫—Ä–∏—Ç–∏ AUTO_STATUS.md? (y/n)" -ForegroundColor Magenta
$open = Read-Host
if ($open -eq "y") {
    Start-Process "AUTO_STATUS.md"
}
